services:
  bot:
    build:
      context: .
      dockerfile: Dockerfile
    image: shomu-discord-bot:latest
    container_name: shomu-discord-bot
    restart: unless-stopped
    environment:
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      RUST_LOG: info
      TZ: UTC
      # DATABASE_URL: sqlite:///data/bot.db  # optional override
    volumes:
      - bot_data:/data
    # Important for signal handling/zombie reaping with scratch
    init: true
volumes:
  bot_data:
