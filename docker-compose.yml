services:
  bot:
    build: .
    image: shomu-discord-bot:latest
    container_name: shomu-discord-bot
    restart: unless-stopped
    environment:
      # Provide your token securely (compose overrides, env file, or CI secret)
      DISCORD_TOKEN: ${DISCORD_TOKEN}
      # If you want a different path/filename for the db, override here:
      # DATABASE_URL: sqlite:///data/bot.db
      RUST_LOG: info
    volumes:
      - ./data:/data
    # no ports needed; Discord gateway is outbound
volumes:
  bot_data:
